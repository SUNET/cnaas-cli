---
base_url: 'http://localhost:5000/api/v1.0'
cli:
  - command:
      name: 'devices'
      description: 'Handles devices'
      url: '/devices'
      attributes:
      methods:
        - name: "get"

  - command:
      name: 'device'
      description: 'Handles a single device'
      url: '/device'
      attributes:
        - name: 'id'
          mandatory: true
          description: 'Device ID'
          url_suffix: true
      methods:
        - name: "get"

  - command:
      name: 'sync'
      description: 'Sync to'
      url: '/device_syncto'
      attributes:
        - name: 'device_type'
          mandatory: false
          description: 'device name'
        - name: 'group'
          mandatory: false
          description: 'group name'
        - name: 'all'
          mandatory: false
          description: 'sync all devices'
        - name: 'dry_run'
          mandatory: true
          description: 'dry run'
        - name: 'force'
          mandatory: true
          description: 'force run'
      methods:
        - name: "post"

  - command:
      name: 'jobs'
      description: 'Show jobs'
      url: '/jobs?sort=-id&per_page=100'
      attributes:
      methods:
        - name: 'get'

  - command:
      name: 'job'
      description: 'Show job'
      url: '/job'
      attributes:
        - name: 'id'
          mandatory: true
          description: 'Job ID'
          url_suffix: true
      methods:
        - name: 'get'

  - command:
      name: 'device_init'
      description: 'Init device'
      url: '/device_init'
      attributes:
        - name: 'id'
          mandatory: true
          description: 'Device ID'
          url_suffix: true
        - name: 'hostname'
          mandatory: true
          description: 'Hostname'
        - name: 'device_type'
          mandatory: true
          description: 'Type of device (ACCESS, DIST, ...)'
      methods:
        - name: 'post'
